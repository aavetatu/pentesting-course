# H3

### x) Watch and summarize one [ippsec](https://www.youtube.com/@ippsec/videos) video about hacking

I chose to watch [HackTheBox - Photobomb](https://www.youtube.com/watch?v=-4asq6Tldf0) 

- The main objective was to gain access to the server
- Tech support credentials were found with browser developer tools
- After gaining access to the server burpsuite was used to edit requests to the server
- Final step was to gain root priviledges by abusing a vulnerability in SETENV with sudo on a script


### a) We like to shop. Complete ["Lab: SQL injection vulnerability in WHERE clause allowing retrieval of hidden data"](https://portswigger.net/web-security/sql-injection/lab-retrieve-hidden-data) from Portswigger Academy


### b) HTB. Make HackTheBox.com account. Use OpenVPN connection and block normal internet traffic

First step was to head to [HackTheBox](hackthebox.com) to make an account (I already had an account so I just signed in)

![image](https://user-images.githubusercontent.com/52470440/233840523-0c4f3d05-19b2-41a0-96da-76f0fd58785c.png)

-> _Sign in_ -> _HTB Labs_

![image](https://user-images.githubusercontent.com/52470440/233840585-15fbe647-6bf4-4c3c-b3a3-329e4f176b44.png)

After signing in I pressed from the top right corner _CONNECT TO HTB_ -> _Starting Point_ -> _OpenVPN_ -> _Download VPN_

![image](https://user-images.githubusercontent.com/52470440/233840615-a52474a6-399a-4978-9992-0a92c4493d37.png)

![image](https://user-images.githubusercontent.com/52470440/233840692-16da5233-fe24-47ed-9bc9-0a2a2825623e.png)

![image](https://user-images.githubusercontent.com/52470440/233840721-51d5829b-522c-4f38-9fdc-d06039431544.png)

After donwloading the vpn file I started the connection

  $ cd
  $ cd Downloads
  $ openvpn starting_point_Rabuhana.ovpn
  
But I got an error `Exiting due to fatal error`

I tried regenerating the file again but I got the same error so I checked [_TROUBLE CONNECTING_](https://help.hackthebox.com/en/articles/5185536-connection-troubleshooting)

![image](https://user-images.githubusercontent.com/52470440/233841261-16c2b246-9d97-4b30-ac80-9df7c23e5e8d.png)

First I checked if IPv6 was enabled

  $ cat /proc/sys/net/ipv6/conf/all/disable_ipv6 
  0

IPv6 was enabled so I continued to the next step which was to run openvpn with root priviledges

  $ sudo openvpn starting_point_Rabuhana.ovpn
  Initialization Sequence Completed
  
I pinged _10.10.14.224_ to confirm the connection works
  
  $ ping 10.10.14.224
  PING 10.10.14.224 (10.10.14.224) 56(84) bytes of data.
  64 bytes from 10.10.14.224: icmp_seq=1 ttl=64 time=0.016 ms
 
 ![image](https://user-images.githubusercontent.com/52470440/233842237-d1e06dc9-3501-47eb-83b0-b9ed2b3479c6.png)

Next I needed to cut the internet connection to anywhere else on that machine

First I tried pinging google.com and 1.1.1.1

  $ ping google.com  
  PING google.com (216.58.209.206) 56(84) bytes of data.
  64 bytes from hem09s03-in-f14.1e100.net (216.58.209.206): icmp_seq=1 ttl=58 time=9.97 ms

  $ ping 1.1.1.1     
  PING 1.1.1.1 (1.1.1.1) 56(84) bytes of data.
  64 bytes from 1.1.1.1: icmp_seq=1 ttl=58 time=14.5 ms

The connection was up

I followed instructions given by [Tero Karvinen](terokarvinen.com) - [OpenVPN helposti ja turvallisesti](https://terokarvinen.com/2023/tunkeutumistestaus-2023-kevat/#h3-the-box)

  $ nm-connection-editor
  
![image](https://user-images.githubusercontent.com/52470440/233842730-5a4bd3cf-13fd-4050-a758-e4f9ea83c576.png)

I clicked _+_ from the bottom left corner and chose _Import a saved VPN configuration..._ from the list -> _Create..._
  
And located the downloaded file

![image](https://user-images.githubusercontent.com/52470440/233842795-fc016894-df8e-491f-af63-1ae9c3ec2be3.png)

-> _Save_

I opened the top right corner menu and chose the VPN connection

![image](https://user-images.githubusercontent.com/52470440/233842907-4ed16d6b-9d16-4ea0-94da-d32621efd816.png)

  $ ping 1.1.1.1
  --- 1.1.1.1 ping statistics ---
  74 packets transmitted, 0 received, 100% packet loss, time 74751ms
  
  $ ping google.com

I had succesfully cut the connection to normal internet

### c) Meow. 


**Any missing tasks (a-e) will be added in the future**

## Sources: 

https://terokarvinen.com/2023/tunkeutumistestaus-2023-kevat/

https://portswigger.net/web-security/sql-injection/lab-retrieve-hidden-data

https://www.youtube.com/watch?v=-4asq6Tldf0

https://help.hackthebox.com/en/articles/5185536-connection-troubleshooting
